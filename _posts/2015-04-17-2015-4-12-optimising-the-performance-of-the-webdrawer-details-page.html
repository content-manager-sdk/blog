---
layout: post
title: Optimising the performance of the WebDrawer details page
categories: []
tags: serviceapi webdrawer performance
status: publish
type: post
published: true
meta: {}
---
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<html><body>
<h1>Intro</h1>
<p>WebDrawer is designed to show more rather than less of what a user may wish to see.  Being a simple HTML application it does not aim to do anything as sophisticated as on demand loading of data.  The cost of this approach is that a Record details page contains a lot of information and can be quite slow to load.  If your users typically do not need to see all of this information then you can remove it and improve the load time of this page significantly.</p>
<h1>Try It Out</h1>
<p>This video demonstrates removing the bulk of the properties displayed on a Record details page and improves load of the page from around 4 seconds to just over 1 second.  I hope you enjoy the soothing sounds of children playing in the background on this video.</p>
<iframe src="https://player.vimeo.com/video/125317149" width="500" height="323" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe><h1>Make it more maintainable</h1>
<p>While the above will improve the performance of the Record details page it will make it more difficult to upgrade WebDrawer.  One way to improve this situation is to not edit the Razor files that ship with WebDrawer but to copy them and use your own.  This way your changes will not be overwritten by an upgrade. In the picture below I have created a folder called 'MyViews' within which I have made a copy of WDRecordDetails.cshtml (renamed MyRecordDetails.cshtml) and a shared folder in which I have a copy of detailsView.cshtml (renamed MyDetailsView.cshtml).  To use the MyRecordDetails View I had to specify it in the 'template' property of the routeDefault element in hptrim.config.</p>
  
      <img src="/squarespace_images/static_5525c843e4b0788926c29a33_5525f2dce4b09e5532140872_55338d6ae4b0c759b389b26f_1429441900782__img.png_" alt="">
  


<h1>Important</h1>
<p>Some important things to remember:</p>
<ul>
<li>the routeDefa</li>
<li>.cshtml file names must be unique even across different folders, ServiceAPI/WebDrawer has no way to locate a particular .cshtml file in a specific folder,</li>
<li>your 'MyViews' folder (or folders) must be a child of the standard Views folder,</li>
<li>the Shared folder is only a convention, shared .cshtml files may be placed in any folder below 'Views',</li>
<li>the hptrim.config is overwritten by the WebDrawer upgrade, you must backup and restore it manually to preserve any changes, and</li>
<li>as a precaution backup the entire WebDrawer folder prior to any upgrade.</li>
</ul>
<h1>Files</h1>
<p dir="ltr">These <a href="/s/OptimiseRecordDetails.zip">views </a>and hptrim.config modified in this sample are, these are samples only, they worked on my HPRM 8.11 (Patch 2) instance but I offer no guarantees to anyone else.</p>
</body></html>
